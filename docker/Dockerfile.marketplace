# Dockerfile.marketplace
FROM openjdk:17-jre-slim

WORKDIR /app

# Copy the correct JAR
COPY target/marktsimulation-1.0.0-jar-with-dependencies.jar app.jar
COPY config/config.properties config/

# Marketplace Ports
EXPOSE 5570 5571

# Environment Variable for ID
ENV MARKETPLACE_ID=M1

# Start with mode and id parameter
ENTRYPOINT ["sh", "-c", "java -jar app.jar --mode=marketplace --id=${MARKETPLACE_ID}"]