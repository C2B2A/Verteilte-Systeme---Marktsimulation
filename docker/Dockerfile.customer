# Dockerfile.customer
FROM openjdk:17-jre-slim

WORKDIR /app

# Copy JAR and configuration files
COPY target/marktsimulation-1.0.0-jar-with-dependencies.jar app.jar
COPY config/config.properties config/

# No exposed ports - Customer uses only outgoing connections

# Environment Variable for ID
ENV CUSTOMER_ID=C1

# Start with mode and id parameter
ENTRYPOINT ["sh", "-c", "java -jar app.jar --mode=customer --id=${CUSTOMER_ID}"]